<!DOCTYPE html>
<html>
<head>
    <title>Edit Journal Entry</title>
</head>
<body>
    <h1>Edit Journal Entry</h1>

    <form action="{{ url_for('edit_entry', entry_id=entry._id) }}" method="post">
        <input type="hidden" name="entry_id" value="{{ entry._id }}">

        <div>
            <label for="date">Date:</label>
            <input type="date" id="date" name="date" value="{{ entry.get('date_str', '') }}" required>
        </div>
        <div>
            <label for="place_name">Place Name:</label>
             <input type="text" id="place_name" name="place_name" value="{{ entry.get('place_name', '') }}" required>
        </div>
        <div>
            <label for="place_address">Place Address:</label>
            <input type="text" id="place_address" name="place_address" value="{{ entry.get('place_address', '') }}" required>
        </div>
        <div>
            <label for="companions">Companions (comma-separated):</label>
            <input type="text" id="companions" name="companions" value="{{ entry.get('companions_str', '') }}">
        </div>
        <div>
            <label for="rating">Rating (e.g., 1-5):</label>
             <input type="number" id="rating" name="rating" step="0.1" min="0" max="5" value="{{ entry.get('rating_str', '') }}">
        </div>
         <div>
            <label for="category">Category:</label>
             <input type="text" id="category" name="category" value="{{ entry.get('category', '') }}">
        </div>
        <div>
            <label for="review">Review:</label>
             <textarea id="review" name="review" rows="4" required>{{ entry.get('review', '') }}</textarea>
        </div>

        <button type="submit">Update Entry</button>
    </form>

    <p>
        <a href="{{ url_for('my_entries') }}">Cancel</a>
        <form action="{{ url_for('delete_entry', entry_id=entry._id) }}" method="post" style="display:inline;">
            <button type="submit" onclick="return confirm('Are you sure you want to delete this entry?');">Delete This Entry</button>
        </form>
    </p>


</body>
</html>